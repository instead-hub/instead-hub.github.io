<!DOCTYPE html> 
<html lang="ru">
<head>
	<title>
		ПРИНТЕД 2 - INSTEAD
	</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="robots" content="index,follow">
	<base href="/">
	<link rel="canonical" href="/article/printed2/">
	<link rel="preload" href="/css/smorg.css" as="style">
	<link rel="stylesheet" href="/css/smorg.css">
	<meta name="generator" content="Hugo 0.64.0" />

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="theme-color" content="#ffffff">
</head>
<body>
		
	<nav class="navbar" aria-label="main navigation">
		<div class="container">
			<div class="navbar-brand">
				
				    <a id="en-lang" class="navbar-item" style="padding:0" href="/en"><img alt="en" src="/img/en.png"></a>
				    <a class="navbar-item" id="ru-lang" href="/"><img alt="ru" src="/img/ru.png"></a>
				
				<a class="navbar-item has-text-white-ter" href="/"><span class="has-text-weight-bold"><span class="has-text-weight-bold">IN<span class="has-text-danger">STEAD</span>3</span></span>
</a>
				<div class="navbar-burger burger" data-target="navMenu">
				  <span></span>
				  <span></span>
				  <span></span>
				</div>
			</div>
			<div class="navbar-menu" id="navMenu">
				<div class="navbar-end">
					<a class="navbar-item " href='/#about'>О проекте</a>
				
					<a class="navbar-item " href='/#download'>Скачать</a>
				
					<a class="navbar-item " href='/#doc'>Авторам</a>
				
				</div>
			</div>
		</div>
	</nav>
<section class="section" itemscope itemtype="http://schema.org/WebPage">
	<div class="container">
		<div class="columns">
			<div class="column is-8 is-offset-2">
				<article class="content">
					<h1 class="title is-3">ПРИНТЕД 2</h1>
					<p class="subtitle is-6 has-text-grey"><em>
<br>Опубликовано 
<time datetime="2015-04-01">01.04.2015</time>; тег(и) 
<a href="/tags/printed">printed</a>
</em></p>
<p>1 апреля 2015 г.<br>
<a href="http://instead.syscall.ru">http://instead.syscall.ru</a></p>
<hr>
<p>Привет всем, кто читает #2 выпуск ПРИНТЕДА!  За  этот  месяц
произошло  не  так  много  событий,  так  что  выпуск  будет
коротенький.  Но предупреждаю, что без появления  новых  игр
вероятность выхода очередного ПРИНТЕДА начинает драматически
снижаться!!!  Ибо движок без игр не особенно нужен,  как  и,
очевидно, новостные выпуски о нем.</p>
<p>Внимание! Не смотря на то, что сегодня 1-е апреля, выпуск не
содержит никаких розыгрышей!</p>
<p>Еще хочу сказать, что выпуски теперь доступны в виде обычных
txt  файлов  по  адресу:  <a href="http://instead.syscall.ru/printead">http://instead.syscall.ru/printead</a></p>
<p><em>Петр Косых</em></p>
<h1 id="новости">Новости</h1>
<hr>
<h2 id="закрытие-googlecodecom">Закрытие googlecode.com</h2>
<p>Недавно произошло окончательно  закрытие  хостинга  проектов
googlecode.com. Как это относится к INSTEAD? Прямым образом.<br>
Дело в том, что раньше там хостился INSTEAD и до  последнего
времени  размещался  Instead-launcher  а   также   то,   что
называется официальным  репозиторием  игр  (фактичнски,  xml
файл).</p>
<p>Поэтому, Instead-launcher переехал на github.com/instead-hub
а    адрес    официального    репозитория    сменился    на:
<a href="http://instead.sf.net/pool/game_list.xml">http://instead.sf.net/pool/game_list.xml</a>.  Был выпущен новый
Instead-launcher  с  исправлением  некоторых  ошибок   и   с
обновленным адресом репозитория.</p>
<h3 id="корректируюший-релиз-instead-223">Корректируюший релиз INSTEAD 2.2.3</h3>
<p>Увы, моим надеждам на долгую жизнь версии 2.2.2, высказанным
в прошлом выпуске, не суждено было  сбыться&hellip;   Через  пару
недель была выпущена  версия  2.2.3  содержащая  исправления
ошибок.  Самая серьезная ошибка проявлялась в игре &ldquo;ПЕРЕХОД&rdquo;
во  время  сохранения  при  блужданиях  по  лабиринту,  если
сделать это во время затемнения.  Технически она заключается
в  некорректном  сохранении  позиции  игрока   в   некоторых
(редких) ситуациях.  Так что рекомендую  всем  разработчикам
игр обновиться.</p>
<h3 id="instead-в-портах-openbsd">INSTEAD в портах OpenBSD?</h3>
<p>Я пишу этот выпуск на ноутбуке.  Этот ноутбук еще вчера  был
хакинтошем, на котором я собирал  версию  для  iOS.   Теперь
здесь стоит OpenBSD.   Надо  сказать,  красивая  и  приятная
система&hellip;</p>
<p>Значит ли это, что я перестану собирать iOS версию? Нет! Мне
удалось поставить  OS  X  в  виртуальную  машину  и  собрать
INSTEAD там, так что  угрозы  для  сборок  iOS  версии  пока
нет&hellip;</p>
<p>Кроме  того,  возрастает  вероятность  появления  INSTEAD  в
портах OpenBSD, так как рано или поздно я попробую  оформить
INSTEAD в виде порта.  Хотя  есть  ли  хоть  кто-нибудь  кто
запускает INSTEAD на OpenBSD?  Откликнитесь!</p>
<h3 id="жизнь-ифхаба">Жизнь ИФХАБА</h3>
<p>Нашему новому  ресурсу  <a href="http://ifhub.ru">http://ifhub.ru</a>  исполняется  месяц.
Можно уже попробовать оценить то что получилось и получилось
ли  вообще.   Итак,   список   приятных   неожиданностей   и
разочарований.</p>
<p>Топ приятных неожиданностей ИФХАБА:</p>
<ul>
<li>Проект поддержали почти все активные участники
ifiction.ru.</li>
<li>Энтузиазм в течении первых дней становления ресурса
навсегда останется в анналах&hellip; тьфу, ну в общем, идея
вдохновила.</li>
<li>В первые же дни жизни ресурса были размещены интересные
материалы на тему ИЛ, которые были действительно интересно
почитать.</li>
<li>Возможность минусовать пока не привела к каким-то
негативным процессам.</li>
</ul>
<p>Топ разочарований ИФХАБА:</p>
<ul>
<li>Число участников невелико.</li>
<li>Постепенно энтузиазм утих, и появление новых материалов
сильно замедлилось.</li>
</ul>
<p>В общем, что ждет жанр  ИЛ  в  общем  и  ИФХАБ  в  частности
покажет время&hellip;   Главная  моя  надежда,  чтобы  ресурс  не
превратился просто в  замкнутую  песочницу  для  развлечения
самих авторов.  А пока что выхлоп есть. Следите за ифхабом и
пишите   статьи,   если   не   можете   писать   игры.    :)</p>
<h3 id="материк-переведен">Материк переведен!</h3>
<p>@vorov2  выложил  полностью  переведенную  версию  материка.
Вернее,  двуязычную   версию.    Пока   она   еще   содержит
неточности, но так или иначе &ndash; работа подходит  к  концу!!!
Неужели   Материк   попадет   в   стим?    Также,   приятной
неожиданностью стал тот факт, что об  INSTEAD  вообще  знают
наши американские и немецкие &ldquo;коллеги&rdquo;.</p>
<h2 id="игры">Игры</h2>
<hr>
<p>С играми за этот месяц не густо.  А если конкретней &ndash;  игра
одна.  Это ремейк моего исполнения.  Но об этой игрушке есть
что рассказать, так что встречайте:</p>
<h3 id="клара----расхитительница-варенья--николай-жариков">Клара &ndash; расхитительница варенья // Николай Жариков</h3>
<p>Я думал, стоит ли писать про автора этой  игры  или  нет,  и
все-таки решился это сделать&hellip;</p>
<p>Когда то давным-давно, когда версия INSTEAD едва дошла до 1,
я сделал модуль URQ и портировал на него некоторые игры. Мне
очень понравились такие вещи как: &ldquo;Холм  фей&rdquo;  и  &ldquo;Проклятое
наследство&rdquo;.  Уже во время портирования второй игры я узнал,
что  автор  этих  игр  &ndash;  Николай  Жариков,   автор   сайта
<a href="http://www.questtext.narod.ru/,">http://www.questtext.narod.ru/,</a>  трагически  погиб  в  марте
2007 года.</p>
<p>Я задумался тогда о том,  стоит  ли  портировать  игру?   Во
первых, мое отношение к игре как-то поменялось.  Во  вторых,
и без того противоречивое отношение  к  игровому  творчеству
вышло  на   новый   виток&hellip;    Но   это   отдельная   тема.</p>
<p>Потом я сказал себе, что игры эти хорошие, и я просто сделаю
порты потому что они мне нравятся.</p>
<p>Вот как то так оказались рядом все эти вещи &ndash;  серьезные  и
не очень. Заставляет лишний раз вспомнить о том, кто мы есть
и что есть наша жизнь.</p>
<p>А недавно  на  форуме  ifiction.ru  Максим  Ганенко  выложил
прекрасные иллюстрации по мотивам игры  &ldquo;Клара&rdquo;.   Это  тоже
игра Николая, причем парсерная. Причем на платформе &ldquo;6days&rdquo;,
которая как и INSTEAD использовала lua.  И я просто  не  мог
не сделать ремейк этой игры на метапарсере&hellip;.</p>
<p>На мой взгляд,  получилось  удачно.   Кое-что  я  дописал  и
исправил в оригинале. Добавил музыку и пару иллюстраций. Так
что теперь эта игра зажила новой жизнью. Надеюсь она вызовет
такие же теплые чувства какие вызвала у меня, когда я  делал
этот ремейк.</p>
<p>Кстати,  @epoxa  перенес игру  в веб и она работает! Правда,
без парсерной части. Но, может  быть, для кого  то это будет
даже плюсом.</p>
<h2 id="кружок-программирования">Кружок программирования</h2>
<hr>
<h3 id="обработчики-onactonwalkonuseoninv">Обработчики onact/onwalk/onuse/oninv</h3>
<p>Сегодня расскажу о механизме, который и сам редко  использую
при  написании  своих  игр,  но  который  может  быть  очень
полезным в некоторых ситуациях.</p>
<p>Представим себе, что главный герой поранил руку и теперь  не
может взаимодействовать с объектами.  Как реализовать  такое
поведение?  Или же нужно отслеживать все перемещения героя и
накапливать усталость.  Это часто реализуется life  методом,
но есть способ проще!</p>
<p>Начиная с версии 1.7.0 в INSTEAD  присутствуют  обработчики:
game.onact,   game.onwalk,    game.onuse    и    game.oninv.</p>
<p>В  отличие  от  таких  обработчиков  как  use  и  used,  они
вызываются  <em>перед</em>  событием,   и   позволяют   перехватить
нормальный ход вещей.</p>
<p>Так, для случая с раненой рукой, можно написать:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">...
game.onact = function(s, w)
    if ranen then
        p [[Я ранен!]]
        return false
    end
end;
...
</code></pre></div><p>Как видно из примера, обработчик может не  только  выполнить
какие-то  действия,  но  и  запретить  выполнение   текущего
события!  (return false).  Если вам нужен доступ к предмету,
на которое направлено действие, то он приходит в  обработчик
в виде второго параметра (w).</p>
<p>Аналогично в обработчики onuse, onwalk и oninv приходят  все
параметры этих событий.  Так,  для  onuse  вы  получите  два
объекта, которые комбинирует игрок.</p>
<p>Обработчик onwalk полезен для отслеживания переходов.  Кроме
того его можно применить  и  для  перенаправления  игрока  в
другую комнату при достижении какого-либо условия!  Главное,
избегайте рекурсий!  Так как если вы делаете walk из onwalk,
то это снова  приведет  к  событию  walk  и  вызову  onwalk.
Избежать рекурсии легко,  например,  с  помощью  переменной:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">...
global { power = 100 };
in_walk = false
game.onwalk = function(s, w)
    if in_onwalk or w == main then -- если рекурсия или вход 
                                   -- в комнату main
                                   -- ничего не делать
        return
    end
    power = power - 1 -- уменьшаем силу при переходах
    if power &lt; 0 then -- свалились с ног?
        p &#34;Я устал! Я хочу спать!&#34;;
        in_onwalk = true -- избежать рекурсию
        walkin &#39;sleeping&#39; -- переход в сон
        in_onwalk = false
        return false -- прекратить первоначальный переход
    end
end
...
</code></pre></div><p>Наверное вы уже заметили, что эти обработчики удобно было бы
использовать для подсчета числа  событий.   Например,  число
произошедших act для  заданного  объекта.   На  самом  деле,
существует готовый модуль  &ldquo;counters&rdquo;,  который  как  раз  и
использует эти обработчики.</p>
<p>Например:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">...
require &#34;counters&#34;

apple = obj {
    nam = &#39;яблоко&#39;;
    inv = function(s)
        if inv_count(s) &gt; 3 then
            p [[Ладно, съем!]]
            remove(s, me())
            return
        end
        p [[Да это же яблоко!]]
    end
...
}
...
</code></pre></div><p>Для   принудительного    сброса    счетчика,    используйте:</p>
<p>inv_count(что, число);</p>
<p>Понятно,  что  определены  функции:  walk_count,  inv_count,
use_count, act_count.</p>
<p>Если  вы  хотите  использовать  модуль   counters   и   сами
обработчики  onXXXXXX,  включите  модуль  после  определения
своих функций, например:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">...
game.oninv = [[Я действую!]];
game.onwalk = [[Я хожу!!!]];
require &#39;counters&#39;
...

</code></pre></div><p>На этом сегодняшний кружок закрывается. Надеюсь, информация
была интересной.</p>
<h2 id="слухи">Слухи</h2>
<hr>
<p>Первого апреля раздел слухов не работает. :)</p>
<h2 id="метафизика">Метафизика</h2>
<hr>
<p>Как вы знаете из этого выпуска ПРИНТЕДА, я поставил себе  на
ноутбук OpenBSD.  Интересно, но  этот  факт  создал  в  моей
голове  ворох  мыслей  и  ассоциаций   которыми   захотелось
поделиться.</p>
<p>Наверняка многие  из  любителей  INSTEAD  знают  про  Linux.
Некоторые, слышали про FreeBSD.  А вот про такую систему как
OpenBSD, уверен, знают единицы.  Поставив OpenBSD  и  оценив
эту прекрасную систему  я  вдруг  увидел  некую  аналогию  с
INSTEAD.  Об OpenBSD знает процент от процента.  Но  это  не
мешает ей быть прекрасной системой.  Она никогда  не  станет
заменой Windows и даже Linux.  Я не буду советовать  ставить
ее вам, но&hellip;  Но  она  существует  и  она  прекрасна!   Она
делается теми людьми и для тех людей кому она по душе. И эти
отношения не испорчены деньгами и  амбициями.   Вокруг  люди
работают с Windows, некоторые ставят Linux.   Адепты  систем
устраивают холивары на специализированных форумах. А OpenBSD
не видно, разве что редкий админ поставит ее на сервер.   Ее
не видно, но она есть!  И что то делает ее сильней всех этих
систем. Например то, что она жива вопреки, казалось бы, всем
законам этого мира. :)</p>
<p>И я вдруг осознал, что с приходом денег в какой-либо  проект
мое отношение к нему незаметно меняется.  Например, когда  я
начинал заниматься Linux после Windows &ndash; это был  прорыв  в
плане свободы.  Систему делали такие же  люди  как  ты  сам,
свободную систему для нас самих.  Это сильно  отличалось  от
того, что  я  видел  в  мире  Windows.   Со  временем  Linux
развился.  Сегодня  в  него  вкладываются  деньги   и   труд
множества оплачиваемых разработчиков. Linux стал нужен.  Это
здорово!  Но в тоже время,  что  то  изменилось.   Теперь  в
творчество примешались &ldquo;целесообразность&rdquo;, &ldquo;бизнес&rdquo; и прочие
подобные вещи мира сего.  Мне нравится Linux и я  работаю  с
ним.  Он не стал хуже, поймите меня правильно.  Но все-таки,
что то меняется&hellip;</p>
<p>Похоже,  что  чем  маргинальней  система,  чем  меньше   она
заметна,  тем  меньше  она  вовлечена   в   товарно-денежные
отношения и тем  меньше  на  нее  влияют  какие-то  интересы
чуждые творчеству.</p>
<p>Возвращаясь к ИЛ.  Я знаю, например,  что  многие  не  видят
ничего плохого в монетизации.  Многие  мечтают  о  работе  в
геймдеве.   Я  не  вижу  ничего  плохого  в  этом,  но   что
касается меня, то я понял,  что  затраченное  на  творчество
время оправдывается не только результатом,  но  и  мотивами.</p>
<p>Творчество,  в  основе   которого   лежат   товарно-денежные
отношения или смутное желание власти/популярности вызывает в
моей душе смятение и мне не хочется этим заниматься. Так что
добавление INSTEAD в порты OpenBSD обрадует меня больше, чем
сотни тысяч скачек Windows версии, которых  INSTEAD  никогда
не увидит. :)</p>
<p>Очень  надеюсь,  что  движок  останется  нужным  и   удобным
инструментом  для  свободного   творчества,   каким   он   и
задумывался.</p>
<p><em>До встречи на полях ПРИНТЕДА!</em></p>


<div class="block">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      var disqus_shortname = "instead"; 
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</div>

				</article>
			</div>
		</div>
	</div>
</section>

<footer class="footer">
  <div class="container content">
	<div class="has-text-centered">
		<p><i class="fab fa-github"></i> <a href="https://github.com/instead-hub/instead">github.com/instead-hub/instead</a>
			  

		   </p>
		<hr>
		<p class="has-text-grey is-size-7">
		 Автор <a href="http://syscall.ru/">Петр Косых</a><br>
			   
		 &copy; 2009-2020<br>
			   
		</p>
	</div>
  </div>
</footer>


<script type="application/ld+json">
{ 
	"@context": "http://schema.org", 
	"@type": "WebPage",
	"@id": "\/article\/printed2\/",
	"name": "ПРИНТЕД 2",
}
</script>




<script>
document.addEventListener('DOMContentLoaded', function () {
  var $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
  if ($navbarBurgers.length > 0) {
    $navbarBurgers.forEach(function ($el) {
      $el.addEventListener('click', function () {
        var target = $el.dataset.target;
        var $target = document.getElementById(target);
        $el.classList.toggle('is-active');
        $target.classList.toggle('is-active');
      });
    });
  }
});
</script>
 

</body>
</html>
